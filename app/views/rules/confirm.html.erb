<%= modal(reload_on_close: true) do %>
  <div class="space-y-4 p-4 max-w-[400px]">
    <div>
      <div class="flex justify-between mb-2 gap-4">
        <h3 class="font-medium text-md">Confirm changes</h3>
        <button data-action="mousedown->modal#close">
          <%= lucide_icon("x", class: "w-5 h-5 shrink-0 text-secondary") %>
        </button>
      </div>
      <div class="text-secondary text-sm">
        <p>
          You are about to apply this rule to
          <span class="text-primary font-medium"><%= @rule.affected_resource_count %> <%= @rule.resource_type.pluralize %></span>
          that meet the specified rule criteria.  Please confirm if you wish to proceed with this change.
        </p>
      </div>
    </div>
    <%= button_to "Confirm changes", apply_rule_path(@rule), class: "btn btn--primary w-full justify-center", data: { turbo_frame: "_top"} %>
  </div>
<% end %>
