<%# locals: (breadcrumbs:, sidebar_toggle_enabled: true) %>

<nav class="items-center gap-2 mb-6 hidden md:flex">
  <% if sidebar_toggle_enabled %>
    <%= render ButtonComponent.new(variant: "icon", icon: "panel-left", data: { action: "sidebar#toggleLeftPanel" }) %>
  <% end %>

  <div class="py-2 flex items-center gap-2">
    <% breadcrumbs.each_with_index do |(name, path), index| %>
      <% if index > 0 %>
        <%= icon("chevron-right", color: "gray", size: "sm") %>
      <% end %>

      <% if path.present? && index < breadcrumbs.size - 1 %>
        <%= link_to name, path, class: "text-sm text-gray-500 font-medium" %>
      <% elsif index == breadcrumbs.size - 1 %>
        <span class="text-primary font-medium text-sm"><%= name %></span>
      <% else %>
        <span class="text-sm text-gray-500 font-medium"><%= name %></span>
      <% end %>
    <% end %>
  </div>

  <% if sidebar_toggle_enabled %>
    <div class="ml-auto">
      <%= render ButtonComponent.new(variant: "icon", icon: "panel-right", data: { action: "sidebar#toggleRightPanel" }, title: "Toggle AI Assistant") %>
    </div>
  <% end %>
</nav>
